{"ast":null,"code":"module.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload\n};\n\nfunction cacheIdentifierForPayload(payload) {\n  var simpleParams = paramsWithoutBlockTag(payload);\n\n  if (canCache(payload)) {\n    return payload.method + ':' + JSON.stringify(simpleParams);\n  } else {\n    return null;\n  }\n}\n\nfunction canCache(payload) {\n  return cacheTypeForPayload(payload) !== 'never';\n}\n\nfunction blockTagForPayload(payload) {\n  var index = blockTagParamIndex(payload); // Block tag param not passed.\n\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload) {\n  var index = blockTagParamIndex(payload); // Block tag param not passed.\n\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  return payload.params.slice(0, index);\n}\n\nfunction blockTagParamIndex(payload) {\n  switch (payload.method) {\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_getStorageAt':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1;\n    // blockTag is first param\n\n    case 'eth_getBlockByNumber':\n      return 0;\n    // there is no blockTag\n\n    default:\n      return undefined;\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma';\n    // cache until fork\n\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork';\n    // cache for block\n\n    case 'eth_gasPrice':\n    case 'eth_blockNumber':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n      return 'block';\n    // never cache\n\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never';\n  }\n}","map":{"version":3,"sources":["/home/fitsh/Code/practice/blockchain/ethStudy/lotteryProject/node_modules/_web3-provider-engine@8.6.1@web3-provider-engine/util/rpc-cache-utils.js"],"names":["module","exports","cacheIdentifierForPayload","canCache","blockTagForPayload","paramsWithoutBlockTag","blockTagParamIndex","cacheTypeForPayload","payload","simpleParams","method","JSON","stringify","index","params","length","slice","undefined"],"mappings":"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","sourcesContent":["module.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload,\n}\n\nfunction cacheIdentifierForPayload(payload){\n  var simpleParams = paramsWithoutBlockTag(payload)\n  if (canCache(payload)) {\n    return payload.method+':'+JSON.stringify(simpleParams)\n  } else {\n    return null\n  }\n}\n\nfunction canCache(payload){\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  return payload.params.slice(0,index);\n}\n\nfunction blockTagParamIndex(payload){\n  switch(payload.method) {\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_getStorageAt':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1\n    // blockTag is first param\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_blockNumber':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never'\n  }\n}\n"]},"metadata":{},"sourceType":"script"}